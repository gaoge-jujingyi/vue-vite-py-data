import"./default-e5d332e7.js";import{M as Z}from"./index-7b312ce6.js";import{B as ee}from"./index-8134270f.js";import{F as te,_ as ne}from"./index-0fb4fca2.js";import"./index-3ade0bc5.js";import{I as oe}from"./index-da5f4ce2.js";import{r as L,a as d,y as ae,B as _,G as C,L as g,c as t,D as l,E as e,K as I,H as D,$ as F,a0 as N,I as f,C as $,J as le}from"./index-71a5391b.js";import{_ as M,a as se,b as ie,c as re,d as ue}from"./repeatpositioner-3854e0ff.js";import{_ as pe}from"./repeatcard-74591095.js";import{_ as me}from"./loading-c4a3f1f3.js";import{_ as ce}from"./previewimg-94f88633.js";import{_ as de}from"./previewvideo-c8cd7637.js";import{_ as _e}from"./previewhtml-043985d4.js";import{_ as ge}from"./repeattable-4a7fe53a.js";import{ab as fe}from"./api-47b35210.js";import"./DialogWrap-9db0e3d6.js";import"./omit-e3ca0eeb.js";import"./index-8ca851ae.js";import"./LeftOutlined-fcc01204.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ArrowLeftOutlined-83eed4e5.js";import"./index-79080fe8.js";import"./index-98bb1baa.js";import"./eagerComputed-c651f318.js";import"./index-1729d7ee.js";import"./createForOfIteratorHelper-f2236921.js";import"./index-7f28f9f3.js";import"./index-bd4b2240.js";import"./shallowequal-0f2097ab.js";import"./index-67c02b9a.js";import"./index-116a0eec.js";import"./scrollTo-4a3c9ce6.js";import"./index-ee3da9b4.js";import"./index.esm-e815afff.js";const ve={key:0,style:{"column-count":"5","column-gap":"15px"}},ye={style:{margin:"10px 0 10px 10px"}},be={style:{"text-align":"right"},id:"bottomDom"},ke={style:{"column-count":"4","column-gap":"15px"}},nt={__name:"youyiku",setup(he){const U=L(),n=d({name:"",asLabel:"",season4zhCN:"",currentPage:1,pageSizes:50}),i=d({data:[],total:0});let S=L("1");const v=()=>{S.value="1",i.total=0,i.data=[]},O=()=>{v(),U.value.resetFields(),n.currentPage=1,n.pageSizes=50,y()},k=o=>{v(),n.name=n.name.replace(/\s*/g,""),n.asLabel=n.asLabel.replace(/\s*/g,""),n.season4zhCN=n.season4zhCN.replace(/\s*/g,""),n.currentPage=1,n.pageSizes=50,y()};ae(()=>{y()});const y=()=>{fe(n).then(o=>{i.data=o.data.data,i.total=o.data.total,S.value="0"})},K=({page:o,pageSize:s})=>{v(),n.currentPage=o,n.pageSizes=s,y()},B=({current:o,size:s})=>{v(),n.currentPage=o,n.pageSizes=s},T=o=>{v(),n.currentPage=o,y()},V=o=>{switch(o){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},q=o=>{window.open(o,"_blank")},r=d({state:!1,title:"",imgs:[]}),H=o=>{r.state=!0,r.imgs=new Set([...o.chipPic,...o.colorPic,...o.main1000]),r.title="查看详情图片"},j=()=>{r.imgs=[]};let E=d([{title:"编号",dataIndex:"colorNo",key:"colorNo"},{title:"名称",dataIndex:"name",key:"name"},{title:"尺寸",dataIndex:"sizeText",key:"sizeText"},{title:"颜色",width:120,dataIndex:"styleText",key:"styleText"},{title:"售价",dataIndex:"varyPrice",width:90,key:"varyPrice"},{title:"图片",width:550,dataIndex:"skuImgs",key:"skuImgs"}]);const u=d({state:!1,title:"",skus:[]}),R=()=>{u.skus=[]},G=o=>{u.state=!0,u.skus=o.rows.map(s=>({...s,skuImgs:Object.values(o.rowslist[0][s.productId]).map(b=>`https://www.uniqlo.cn${b}`)})),u.title="查看SKU"},p=d({state:!1,title:"",video:""}),J=()=>{p.video=""},A=o=>{p.state=!0,p.video=o.video.videoUrl,p.title="查看视频"},m=d({state:!1,title:"",html:""}),Q=()=>{m.html=""},W=o=>{m.state=!0,m.html=o.desc.instruction.concat(o.desc.sizeChart),m.title="查看H5"};return(o,s)=>{const b=oe,h=ne,x=re,c=ee,X=ue,Y=te,w=Z;return _(),C(I,null,[g("div",null,[t(Y,{id:"submitDom",model:e(n),ref_key:"formRef",ref:U,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:k},{default:l(()=>[t(X,null,{default:l(()=>[t(x,{span:6},{default:l(()=>[t(h,{label:"标 题",name:"name"},{default:l(()=>[t(b,{value:e(n).name,"onUpdate:value":s[0]||(s[0]=a=>e(n).name=a),onKeydown:N(k,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(x,{span:6},{default:l(()=>[t(h,{label:"关键词",name:"asLabel"},{default:l(()=>[t(b,{value:e(n).asLabel,"onUpdate:value":s[1]||(s[1]=a=>e(n).asLabel=a),onKeydown:N(k,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(x,{span:6},{default:l(()=>[t(h,{label:"主 题",name:"season4zhCN"},{default:l(()=>[t(b,{value:e(n).season4zhCN,"onUpdate:value":s[2]||(s[2]=a=>e(n).season4zhCN=a),onKeydown:N(k,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(x,{span:6},{default:l(()=>[t(h,{"wrapper-col":{offset:2,span:22}},{default:l(()=>[t(c,{type:"primary","html-type":"submit"},{default:l(()=>[f("提交")]),_:1}),t(c,{style:{"margin-left":"10px"},onClick:O},{default:l(()=>[f("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),t(M,{total:e(i).total,currentPage:e(n).currentPage,pageSizes:e(n).pageSizes,onOnpagechange:K,onOnsizechange:B},null,8,["total","currentPage","pageSizes"]),e(i).data.length!==0?(_(),C("div",ve,[(_(!0),C(I,null,D(e(i).data,(a,P)=>(_(),$(pe,{key:P,item:{...a,bj:a.mainPic,title:a.name}},{time:l(()=>[g("p",ye,le(a.season4zhCN),1)]),button:l(()=>[t(c,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:z=>H(a)},{default:l(()=>[f("查看图片 ")]),_:2},1032,["onClick"]),t(c,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:z=>G(a)},{default:l(()=>[f("查看规格 ")]),_:2},1032,["onClick"]),a.video!=null?(_(),$(c,{key:0,type:"dashed",style:{margin:"0 0 10px 10px"},onClick:z=>A(a)},{default:l(()=>[f("查看视频 ")]),_:2},1032,["onClick"])):F("",!0),t(c,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:z=>W(a)},{default:l(()=>[f("查看网页 ")]),_:2},1032,["onClick"]),t(c,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:z=>q(a.productCode)},{default:l(()=>[f("跳转详情 ")]),_:2},1032,["onClick"])]),_:2},1032,["item"]))),128))])):F("",!0),t(me,{state:e(S)},null,8,["state"]),g("div",be,[t(M,{total:e(i).total,currentPage:e(n).currentPage,pageSizes:e(n).pageSizes,onOnpagechange:K,onOnsizechange:B},null,8,["total","currentPage","pageSizes"])]),t(se,{total:e(i).total,currentPage:e(n).currentPage,pageSizes:e(n).pageSizes,onOnpageturning:T},null,8,["total","currentPage","pageSizes"]),t(ie,{onOnTo:V}),t(w,{visible:e(r).state,"onUpdate:visible":s[3]||(s[3]=a=>e(r).state=a),footer:null,width:"80%",onCancel:j,title:e(r).title},{default:l(()=>[g("div",ke,[(_(!0),C(I,null,D(e(r).imgs,(a,P)=>(_(),$(ce,{key:P,item:a},null,8,["item"]))),128))])]),_:1},8,["visible","title"]),t(w,{visible:e(u).state,"onUpdate:visible":s[4]||(s[4]=a=>e(u).state=a),footer:null,width:"80%",onCancel:R,title:e(u).title},{default:l(()=>[g("div",null,[t(ge,{dataSource:e(u).skus,columns:e(E)},null,8,["dataSource","columns"])])]),_:1},8,["visible","title"]),t(w,{visible:e(p).state,"onUpdate:visible":s[5]||(s[5]=a=>e(p).state=a),footer:null,width:"60%",onCancel:J,title:e(p).title},{default:l(()=>[g("div",null,[t(de,{url:e(p).video},null,8,["url"])])]),_:1},8,["visible","title"]),t(w,{visible:e(m).state,"onUpdate:visible":s[6]||(s[6]=a=>e(m).state=a),footer:null,width:"55%",onCancel:Q,title:e(m).title},{default:l(()=>[g("div",null,[t(_e,{html:e(m).html},null,8,["html"])])]),_:1},8,["visible","title"])],64)}}};export{nt as default};
