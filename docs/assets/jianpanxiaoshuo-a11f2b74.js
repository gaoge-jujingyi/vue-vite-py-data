/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{k as w,r as _,D as N,U as z,a0 as k,a3 as P,f as a,W as o,u as t,a6 as q,F as C,a7 as f,E as x}from"./vue-4ec1f53c.js";import{_ as F,a as T,b as $}from"./repeatpositioner-18542dbb.js";import{_ as E}from"./loading-641ff660.js";import{_ as R}from"./repeattable-54d0341a.js";import{a4 as M}from"./api-0902c31c.js";import{F as W,I as A,o as G,p as H,B as J,q as L}from"./antDesignVue-3dfa8e86.js";import"./index-c48ddee0.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-07e0f670.js";import"./axios-4a70c6fc.js";const Q={key:0},X={style:{"text-align":"right"},id:"bottomDom"},ve={__name:"jianpanxiaoshuo",setup(Y){const h=w(),e=_({dalei:"",name:"",author:"",currentPage:1,pageSizes:50}),r=_({data:[],total:0});let d=w("1");const s=()=>{d.value="1",r.total=0,r.data=[]},I=()=>{s(),h.value.resetFields(),e.currentPage=1,e.pageSizes=50,u()},p=n=>{s(),e.dalei=e.dalei.replace(/\s*/g,""),e.name=e.name.replace(/\s*/g,""),e.author=e.author.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,u()};N(()=>{u()});let b=_([]),K=_([{title:"小说",dataIndex:"name",key:"name"},{title:"分类",dataIndex:"dalei",key:"dalei"},{title:"作者",dataIndex:"author",key:"author"},{title:"操作",width:320,key:"jianpanxiaoshuo"}]);const u=()=>{M(e).then(n=>{r.data=n.data.data,r.total=n.data.total,d.value="0",b=r.data})},O=n=>{V(n)},v=({page:n,pageSize:l})=>{s(),e.currentPage=n,e.pageSizes=l,u()},y=({current:n,size:l})=>{s(),e.currentPage=n,e.pageSizes=l},B=n=>{s(),e.currentPage=n,u()},D=n=>{switch(n){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},V=n=>{window.open(n,"_blank")};return(n,l)=>{const g=A,m=G,c=H,S=J,U=L,j=W;return z(),k(C,null,[P("div",null,[a(j,{id:"submitDom",model:t(e),ref_key:"formRef",ref:h,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:p},{default:o(()=>[a(U,null,{default:o(()=>[a(c,{span:6},{default:o(()=>[a(m,{label:"分 类",name:"dalei"},{default:o(()=>[a(g,{value:t(e).dalei,"onUpdate:value":l[0]||(l[0]=i=>t(e).dalei=i),onKeydown:f(p,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),a(c,{span:6},{default:o(()=>[a(m,{label:"标 题",name:"name"},{default:o(()=>[a(g,{value:t(e).name,"onUpdate:value":l[1]||(l[1]=i=>t(e).name=i),onKeydown:f(p,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),a(c,{span:6},{default:o(()=>[a(m,{label:"作 者",name:"author"},{default:o(()=>[a(g,{value:t(e).author,"onUpdate:value":l[2]||(l[2]=i=>t(e).author=i),onKeydown:f(p,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),a(c,{span:6},{default:o(()=>[a(m,{"wrapper-col":{offset:4,span:20}},{default:o(()=>[a(S,{type:"primary","html-type":"submit"},{default:o(()=>[x("提交")]),_:1}),a(S,{style:{"margin-left":"10px"},onClick:I},{default:o(()=>[x("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),a(F,{total:t(r).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpagechange:v,onOnsizechange:y},null,8,["total","currentPage","pageSizes"]),t(r).data.length!==0?(z(),k("div",Q,[a(R,{dataSource:t(b),columns:t(K),onOntablecolumnurl:O},null,8,["dataSource","columns"])])):q("",!0),a(E,{state:t(d)},null,8,["state"]),P("div",X,[a(F,{total:t(r).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpagechange:v,onOnsizechange:y},null,8,["total","currentPage","pageSizes"])]),a(T,{total:t(r).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpageturning:B},null,8,["total","currentPage","pageSizes"]),a($,{onOnTo:D})],64)}}};export{ve as default};
