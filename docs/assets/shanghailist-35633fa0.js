import"./default-e5d332e7.js";import{_ as L}from"./index-ee3da9b4.js";import{F as R,_ as j}from"./index-0fb4fca2.js";import"./index-3ade0bc5.js";import{B as G}from"./index-8134270f.js";import{I as J}from"./index-da5f4ce2.js";import{_ as M,a as Q}from"./index-1729d7ee.js";import{r as b,a as F,y as W,B as i,G as g,L as d,c as t,D as a,E as n,K as S,H as N,$ as X,C as B,I as p,J as x,a0 as D}from"./index-71a5391b.js";import{_ as O,a as Y,b as Z,c as ee,d as te}from"./repeatpositioner-3854e0ff.js";import{_ as ae}from"./repeatcard-74591095.js";import{_ as ne}from"./loading-c4a3f1f3.js";import"./index-79080fe8.js";import{H as oe,I as se}from"./api-47b35210.js";import{F as le}from"./FieldTimeOutlined-51f3237f.js";import{T as re}from"./TagOutlined-740274e7.js";import"./DialogWrap-9db0e3d6.js";import"./omit-e3ca0eeb.js";import"./LeftOutlined-fcc01204.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ArrowLeftOutlined-83eed4e5.js";const ie={key:0,style:{"column-count":"5","column-gap":"15px"}},pe={style:{margin:"10px 0 10px 10px"}},ue={style:{margin:"10px 0 10px 10px"}},ce={style:{"text-align":"right"},id:"bottomDom"},Ae={__name:"shanghailist",setup(me){const z=b(),e=F({class:"",intraAgeCode:"",name:"",currentPage:1,pageSizes:50}),r=F({data:[],total:0});let f=b("1");const u=()=>{f.value="1",r.total=0,r.data=[]},A=()=>{u(),z.value.resetFields(),e.currentPage=1,e.pageSizes=50,c()},h=s=>{u(),e.name=e.name.replace(/\s*/g,""),e.class=e.class.replace(/\s*/g,""),e.intraAgeCode=e.intraAgeCode.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,c()};let y=b([]);W(()=>{c(),K()});const c=()=>{oe(e).then(s=>{r.data=s.data.data,r.total=s.data.total,f.value="0"})},K=()=>{se().then(s=>{y.value=s.data.data,y.value.unshift({entryItemName:"全部"})})},k=({page:s,pageSize:l})=>{u(),e.currentPage=s,e.pageSizes=l,c()},P=({current:s,size:l})=>{u(),e.currentPage=s,e.pageSizes=l},T=s=>{u(),e.currentPage=s,c()},V=s=>{switch(s){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},U=s=>{window.open(s,"_blank")};return(s,l)=>{const $=M,q=Q,m=j,_=ee,w=te,C=J,v=G,E=R,I=L;return i(),g(S,null,[d("div",null,[t(E,{id:"submitDom",model:n(e),ref_key:"formRef",ref:z,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:h},{default:a(()=>[t(w,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[t(m,{"label-col":{span:1},"wrapper-col":{span:20},label:"分 类",name:"class"},{default:a(()=>[t(q,{value:n(e).class,"onUpdate:value":l[0]||(l[0]=o=>n(e).class=o),"button-style":"solid"},{default:a(()=>[(i(!0),g(S,null,N(n(y),o=>(i(),B($,{style:{margin:"0 10px 10px 0"},key:o.entryItemName,value:o.entryItemName==="全部"?"":o.entryItemName},{default:a(()=>[p(x(o.entryItemName),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),t(w,null,{default:a(()=>[t(_,{span:6},{default:a(()=>[t(m,{label:"标 题",name:"name"},{default:a(()=>[t(C,{value:n(e).name,"onUpdate:value":l[1]||(l[1]=o=>n(e).name=o),onKeydown:D(h,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(_,{span:6},{default:a(()=>[t(m,{label:"年 代",name:"intraAgeCode"},{default:a(()=>[t(C,{value:n(e).intraAgeCode,"onUpdate:value":l[2]||(l[2]=o=>n(e).intraAgeCode=o),onKeydown:D(h,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(_,{span:6},{default:a(()=>[t(m,{"wrapper-col":{offset:2,span:22}},{default:a(()=>[t(v,{type:"primary","html-type":"submit"},{default:a(()=>[p("提交")]),_:1}),t(v,{style:{"margin-left":"10px"},onClick:A},{default:a(()=>[p("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),t(O,{total:n(r).total,currentPage:n(e).currentPage,pageSizes:n(e).pageSizes,onOnpagechange:k,onOnsizechange:P},null,8,["total","currentPage","pageSizes"]),n(r).data.length!==0?(i(),g("div",ie,[(i(!0),g(S,null,N(n(r).data,(o,H)=>(i(),B(ae,{key:H,item:{...o,bj:o.picPath,title:o.name}},{time:a(()=>[d("p",pe,[t(I,{color:"green"},{icon:a(()=>[t(n(le))]),default:a(()=>[p(" "+x(o.intraAgeCode),1)]),_:2},1024)])]),type:a(()=>[d("p",ue,[t(I,{color:"purple"},{icon:a(()=>[t(n(re))]),default:a(()=>[p(" "+x(o.class),1)]),_:2},1024)])]),button:a(()=>[t(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:_e=>U(o.yuantuUrl)},{default:a(()=>[p("查看原图")]),_:2},1032,["onClick"])]),_:2},1032,["item"]))),128))])):X("",!0),t(ne,{state:n(f)},null,8,["state"]),d("div",ce,[t(O,{total:n(r).total,currentPage:n(e).currentPage,pageSizes:n(e).pageSizes,onOnpagechange:k,onOnsizechange:P},null,8,["total","currentPage","pageSizes"])]),t(Y,{total:n(r).total,currentPage:n(e).currentPage,pageSizes:n(e).pageSizes,onOnpageturning:T},null,8,["total","currentPage","pageSizes"]),t(Z,{onOnTo:V})],64)}}};export{Ae as default};
