import{_ as et}from"./repeattable-4a7fe53a.js";import{_ as at}from"./previewhtml-043985d4.js";import"./default-e5d332e7.js";import{M as ot}from"./index-7b312ce6.js";import{B as nt}from"./index-8134270f.js";import{_ as lt}from"./index-ee3da9b4.js";import{F as st,_ as rt}from"./index-0fb4fca2.js";import"./index-3ade0bc5.js";import{I as it}from"./index-da5f4ce2.js";import{_ as _t,a as ct}from"./index-1729d7ee.js";import{r as I,a as d,y as mt,B as p,G as y,L as u,c as e,D as a,E as t,K as b,H as B,$ as pt,C as O,I as i,J as h,a0 as ut}from"./index-71a5391b.js";import{_ as K,a as dt,b as gt,c as ft,d as vt}from"./repeatpositioner-3854e0ff.js";import{_ as yt}from"./repeatcard-74591095.js";import{_ as bt}from"./loading-c4a3f1f3.js";import{_ as ht}from"./previewimg-94f88633.js";import{ag as kt,ah as xt}from"./api-47b35210.js";import{B as St}from"./BarsOutlined-3025bcbc.js";import{P as wt}from"./PayCircleOutlined-67df3095.js";import{S as zt}from"./ShoppingCartOutlined-f020db5d.js";import"./index-98bb1baa.js";import"./eagerComputed-c651f318.js";import"./DialogWrap-9db0e3d6.js";import"./omit-e3ca0eeb.js";import"./createForOfIteratorHelper-f2236921.js";import"./index-7f28f9f3.js";import"./index-8ca851ae.js";import"./index-bd4b2240.js";import"./shallowequal-0f2097ab.js";import"./index-67c02b9a.js";import"./index-116a0eec.js";import"./scrollTo-4a3c9ce6.js";import"./index-79080fe8.js";import"./LeftOutlined-fcc01204.js";import"./index.esm-e815afff.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ArrowLeftOutlined-83eed4e5.js";const Pt={key:0,style:{"column-count":"5","column-gap":"15px"}},Ct={style:{margin:"10px 0 10px 10px"}},It={style:{margin:"10px 0 10px 10px"}},Bt={style:{margin:"10px 0 10px 10px"}},Ot={style:{"text-align":"right"},id:"bottomDom"},$t={style:{"column-count":"4","column-gap":"15px"}},ge={__name:"allclassmall",setup(Dt){const $=I(),n=d({classname:"",goods_name:"",currentPage:1,pageSizes:50}),r=d({data:[],total:0});let k=I("1");const g=()=>{k.value="1",r.total=0,r.data=[]},N=()=>{g(),$.value.resetFields(),n.currentPage=1,n.pageSizes=50,f()},D=l=>{g(),n.classname=n.classname.replace(/\s*/g,""),n.goods_name=n.goods_name.replace(/\s*/g,""),n.currentPage=1,n.pageSizes=50,f()};mt(()=>{f(),H()});const f=()=>{kt(n).then(l=>{r.data=l.data.data,r.total=l.data.total,k.value="0"})};let x=I([]);const H=()=>{xt().then(l=>{x.value=l.data.data,x.value.unshift({cat_name:"全部"})})},F=({page:l,pageSize:s})=>{g(),n.currentPage=l,n.pageSizes=s,f()},M=({current:l,size:s})=>{g(),n.currentPage=l,n.pageSizes=s},T=l=>{g(),n.currentPage=l,f()},q=l=>{switch(l){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},_=d({state:!1,title:"",imgs:[]}),E=l=>{_.state=!0,_.imgs=l,_.title="查看详情图片"},L=()=>{_.imgs=[]},c=d({state:!1,title:"",html:""}),R=()=>{c.html=""},j=l=>{c.state=!0,c.html=l.goods_content.goods_introduce,c.title="查看H5"};let G=d([{title:"goods_id",dataIndex:"goods_id",key:"goods_id"},{title:"add_price",dataIndex:"add_price",key:"add_price"},{title:"attr_name",dataIndex:"attr_name",key:"attr_name"},{title:"attr_sel",dataIndex:"attr_sel",key:"attr_sel"},{title:"attr_vals",dataIndex:"attr_vals",key:"attr_vals"},{title:"attr_value",dataIndex:"attr_value",key:"attr_value"},{title:"attr_write",dataIndex:"attr_write",key:"attr_write"}]);const m=d({state:!1,title:"",skus:[]}),J=()=>{m.skus=[]},A=l=>{m.state=!0,m.skus=l.goods_content.attrs,m.title="查看SKU"};return(l,s)=>{const Q=_t,W=ct,S=rt,w=ft,U=vt,X=it,v=nt,Y=st,z=lt,P=ot,Z=at,tt=et;return p(),y(b,null,[u("div",null,[e(Y,{model:t(n),ref_key:"formRef",ref:$,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:D},{default:a(()=>[e(U,null,{default:a(()=>[e(w,{span:24},{default:a(()=>[e(S,{"label-col":{span:1},"wrapper-col":{span:22},label:"分 类",name:"classname"},{default:a(()=>[e(W,{value:t(n).classname,"onUpdate:value":s[0]||(s[0]=o=>t(n).classname=o),"button-style":"solid"},{default:a(()=>[(p(!0),y(b,null,B(t(x),o=>(p(),O(Q,{style:{margin:"0 10px 10px 0"},key:o.cat_name,value:o.cat_name==="全部"?"":o.cat_name},{default:a(()=>[i(h(o.cat_name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(U,{id:"submitDom"},{default:a(()=>[e(w,{span:6},{default:a(()=>[e(S,{label:"名 称",name:"goods_name"},{default:a(()=>[e(X,{value:t(n).goods_name,"onUpdate:value":s[1]||(s[1]=o=>t(n).goods_name=o),onKeydown:ut(D,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),e(w,{span:6},{default:a(()=>[e(S,{"wrapper-col":{offset:2,span:22}},{default:a(()=>[e(v,{type:"primary","html-type":"submit"},{default:a(()=>[i("提交")]),_:1}),e(v,{style:{"margin-left":"10px"},onClick:N},{default:a(()=>[i("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),e(K,{total:t(r).total,currentPage:t(n).currentPage,pageSizes:t(n).pageSizes,onOnpagechange:F,onOnsizechange:M},null,8,["total","currentPage","pageSizes"]),t(r).data.length!==0?(p(),y("div",Pt,[(p(!0),y(b,null,B(t(r).data,(o,C)=>(p(),O(yt,{key:C,item:{...o,bj:o.goods_big_logo,title:o.goods_name}},{type:a(()=>[u("p",Ct,[e(z,{color:"orange"},{icon:a(()=>[e(t(St))]),default:a(()=>[i(" "+h(o.classname),1)]),_:2},1024)])]),price:a(()=>[u("p",It,[e(z,{color:"green"},{icon:a(()=>[e(t(wt))]),default:a(()=>[i(" "+h(o.goods_price),1)]),_:2},1024)])]),nums:a(()=>[u("p",Bt,[e(z,{color:"purple"},{icon:a(()=>[e(t(zt))]),default:a(()=>[i(" "+h(o.goods_number),1)]),_:2},1024)])]),button:a(()=>[e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:V=>E(o.downloadImgs)},{default:a(()=>[i("查看图片 ")]),_:2},1032,["onClick"]),e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:V=>j(o)},{default:a(()=>[i("查看网页 ")]),_:2},1032,["onClick"]),e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:V=>A(o)},{default:a(()=>[i("查看规格 ")]),_:2},1032,["onClick"])]),_:2},1032,["item"]))),128))])):pt("",!0),e(bt,{state:t(k)},null,8,["state"]),u("div",Ot,[e(K,{total:t(r).total,currentPage:t(n).currentPage,pageSizes:t(n).pageSizes,onOnpagechange:F,onOnsizechange:M},null,8,["total","currentPage","pageSizes"])]),e(dt,{total:t(r).total,currentPage:t(n).currentPage,pageSizes:t(n).pageSizes,onOnpageturning:T},null,8,["total","currentPage","pageSizes"]),e(gt,{onOnTo:q}),e(P,{visible:t(_).state,"onUpdate:visible":s[2]||(s[2]=o=>t(_).state=o),footer:null,width:"80%",onCancel:L,title:t(_).title},{default:a(()=>[u("div",$t,[(p(!0),y(b,null,B(t(_).imgs,(o,C)=>(p(),O(ht,{key:C,item:o},null,8,["item"]))),128))])]),_:1},8,["visible","title"]),e(P,{visible:t(c).state,"onUpdate:visible":s[3]||(s[3]=o=>t(c).state=o),footer:null,width:"55%",onCancel:R,title:t(c).title},{default:a(()=>[u("div",null,[e(Z,{html:t(c).html},null,8,["html"])])]),_:1},8,["visible","title"]),e(P,{visible:t(m).state,"onUpdate:visible":s[4]||(s[4]=o=>t(m).state=o),footer:null,width:"80%",onCancel:J,title:t(m).title},{default:a(()=>[u("div",null,[e(tt,{dataSource:t(m).skus,columns:t(G)},null,8,["dataSource","columns"])])]),_:1},8,["visible","title"])],64)}}};export{ge as default};
