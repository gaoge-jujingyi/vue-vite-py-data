/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{k,r as _,D as C,U as w,a0 as z,a3 as P,f as t,W as n,u as a,a6 as T,F as $,a7 as f,E as x}from"./vue-4ec1f53c.js";import{_ as F,a as q,b as E}from"./repeatpositioner-20125418.js";import{_ as R}from"./loading-641ff660.js";import{_ as M}from"./repeattable-05d35867.js";import{a3 as W}from"./api-0902c31c.js";import{F as j,I as A,n as G,o as H,B as J,p as L}from"./antDesignVue-408c3980.js";import"./index-c01679f5.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-4f5d1037.js";import"./axios-4a70c6fc.js";const Q={key:0},X={style:{"text-align":"right"},id:"bottomDom"},be={__name:"mcmsscs",setup(Y){const y=k(),e=_({category:"",name:"",author:"",currentPage:1,pageSizes:50}),s=_({data:[],total:0});let g=k("1");const l=()=>{g.value="1",s.total=0,s.data=[]},I=()=>{l(),y.value.resetFields(),e.currentPage=1,e.pageSizes=50,c()},m=o=>{l(),e.category=e.category.replace(/\s*/g,""),e.name=e.name.replace(/\s*/g,""),e.author=e.author.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,c()};C(()=>{c()});let h=_([]),K=_([{title:"小说",dataIndex:"name",key:"name"},{title:"分类",dataIndex:"category",key:"category"},{title:"作者",dataIndex:"author",key:"author"},{title:"评分",dataIndex:"score",key:"score"},{title:"操作",width:220,key:"mcmsscs"}]);const c=()=>{W(e).then(o=>{s.data=o.data.data,s.total=o.data.total,g.value="0",h=s.data})},O=o=>{V(o)},b=({page:o,pageSize:r})=>{l(),e.currentPage=o,e.pageSizes=r,c()},v=({current:o,size:r})=>{l(),e.currentPage=o,e.pageSizes=r},B=o=>{l(),e.currentPage=o,c()},D=o=>{switch(o){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},V=o=>{window.open(o,"_blank")};return(o,r)=>{const d=A,i=G,p=H,S=J,U=L,N=j;return w(),z($,null,[P("div",null,[t(N,{id:"submitDom",model:a(e),ref_key:"formRef",ref:y,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:m},{default:n(()=>[t(U,null,{default:n(()=>[t(p,{span:6},{default:n(()=>[t(i,{label:"分 类",name:"category"},{default:n(()=>[t(d,{value:a(e).category,"onUpdate:value":r[0]||(r[0]=u=>a(e).category=u),onKeydown:f(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(p,{span:6},{default:n(()=>[t(i,{label:"标 题",name:"name"},{default:n(()=>[t(d,{value:a(e).name,"onUpdate:value":r[1]||(r[1]=u=>a(e).name=u),onKeydown:f(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(p,{span:6},{default:n(()=>[t(i,{label:"作 者",name:"author"},{default:n(()=>[t(d,{value:a(e).author,"onUpdate:value":r[2]||(r[2]=u=>a(e).author=u),onKeydown:f(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(p,{span:6},{default:n(()=>[t(i,{"wrapper-col":{offset:4,span:20}},{default:n(()=>[t(S,{type:"primary","html-type":"submit"},{default:n(()=>[x("提交")]),_:1}),t(S,{style:{"margin-left":"10px"},onClick:I},{default:n(()=>[x("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),t(F,{total:a(s).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:b,onOnsizechange:v},null,8,["total","currentPage","pageSizes"]),a(s).data.length!==0?(w(),z("div",Q,[t(M,{dataSource:a(h),columns:a(K),onOntablecolumnurl:O},null,8,["dataSource","columns"])])):T("",!0),t(R,{state:a(g)},null,8,["state"]),P("div",X,[t(F,{total:a(s).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:b,onOnsizechange:v},null,8,["total","currentPage","pageSizes"])]),t(q,{total:a(s).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpageturning:B},null,8,["total","currentPage","pageSizes"]),t(E,{onOnTo:D})],64)}}};export{be as default};
