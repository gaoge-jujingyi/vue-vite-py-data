import{_ as et}from"./repeattable-9471ca26.js";import{_ as at}from"./previewhtml-8cfaf819.js";/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{k as I,r as d,D as nt,U as p,a0 as b,a3 as m,f as e,W as a,u as t,F as y,a1 as O,a6 as ot,V as B,E as i,a2 as h,a7 as lt}from"./vue-4ec1f53c.js";import{_ as K,a as st,b as rt}from"./repeatpositioner-4db318fb.js";import{_ as it}from"./repeatcard-3b144a21.js";import{_ as ct}from"./loading-ee00f445.js";import{_ as _t}from"./previewimg-a3028347.js";import{ag as ut,ah as pt}from"./api-0902c31c.js";import{F as mt,n as dt,u as gt,r as ft,s as vt,o as bt,p as yt,q as ht,I as kt,B as xt,t as St}from"./antDesignVue-3dfa8e86.js";import{P as wt}from"./PayCircleOutlined-c12962bb.js";import{S as zt}from"./ShoppingCartOutlined-f4b42736.js";/* empty css              *//* empty css              */import"./index-e012fcaf.js";/* empty css              */import"./xijs-07e0f670.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./axios-4a70c6fc.js";const Pt={key:0,style:{"column-count":"5","column-gap":"15px"}},Ct={style:{margin:"10px 0 10px 10px"}},It={style:{margin:"10px 0 10px 10px"}},Ot={style:{margin:"10px 0 10px 10px"}},Bt={style:{"text-align":"right"},id:"bottomDom"},Dt={style:{"column-count":"4","column-gap":"15px"}},le={__name:"allclassmall",setup(Ft){const D=I(),o=d({classname:"",goods_name:"",currentPage:1,pageSizes:50}),r=d({data:[],total:0});let k=I("1");const g=()=>{k.value="1",r.total=0,r.data=[]},N=()=>{g(),D.value.resetFields(),o.currentPage=1,o.pageSizes=50,f()},F=l=>{g(),o.classname=o.classname.replace(/\s*/g,""),o.goods_name=o.goods_name.replace(/\s*/g,""),o.currentPage=1,o.pageSizes=50,f()};nt(()=>{f(),q()});const f=()=>{ut(o).then(l=>{r.data=l.data.data,r.total=l.data.total,k.value="0"})};let x=I([]);const q=()=>{pt().then(l=>{x.value=l.data.data,x.value.unshift({cat_name:"全部"})})},$=({page:l,pageSize:s})=>{g(),o.currentPage=l,o.pageSizes=s,f()},U=({current:l,size:s})=>{g(),o.currentPage=l,o.pageSizes=s},T=l=>{g(),o.currentPage=l,f()},E=l=>{switch(l){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},c=d({state:!1,title:"",imgs:[]}),H=l=>{c.state=!0,c.imgs=l,c.title="查看详情图片"},R=()=>{c.imgs=[]},_=d({state:!1,title:"",html:""}),j=()=>{_.html=""},L=l=>{_.state=!0,_.html=l.goods_content.goods_introduce,_.title="查看H5"};let W=d([{title:"goods_id",dataIndex:"goods_id",key:"goods_id"},{title:"add_price",dataIndex:"add_price",key:"add_price"},{title:"attr_name",dataIndex:"attr_name",key:"attr_name"},{title:"attr_sel",dataIndex:"attr_sel",key:"attr_sel"},{title:"attr_vals",dataIndex:"attr_vals",key:"attr_vals"},{title:"attr_value",dataIndex:"attr_value",key:"attr_value"},{title:"attr_write",dataIndex:"attr_write",key:"attr_write"}]);const u=d({state:!1,title:"",skus:[]}),A=()=>{u.skus=[]},G=l=>{u.state=!0,u.skus=l.goods_content.attrs,u.title="查看SKU"};return(l,s)=>{const J=ft,Q=vt,S=bt,w=yt,V=ht,X=kt,v=xt,Y=mt,z=St,P=dt,Z=at,tt=et;return p(),b(y,null,[m("div",null,[e(Y,{model:t(o),ref_key:"formRef",ref:D,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:F},{default:a(()=>[e(V,null,{default:a(()=>[e(w,{span:24},{default:a(()=>[e(S,{"label-col":{span:1},"wrapper-col":{span:22},label:"分 类",name:"classname"},{default:a(()=>[e(Q,{value:t(o).classname,"onUpdate:value":s[0]||(s[0]=n=>t(o).classname=n),"button-style":"solid"},{default:a(()=>[(p(!0),b(y,null,O(t(x),n=>(p(),B(J,{style:{margin:"0 10px 10px 0"},key:n.cat_name,value:n.cat_name==="全部"?"":n.cat_name},{default:a(()=>[i(h(n.cat_name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(V,{id:"submitDom"},{default:a(()=>[e(w,{span:6},{default:a(()=>[e(S,{label:"名 称",name:"goods_name"},{default:a(()=>[e(X,{value:t(o).goods_name,"onUpdate:value":s[1]||(s[1]=n=>t(o).goods_name=n),onKeydown:lt(F,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),e(w,{span:6},{default:a(()=>[e(S,{"wrapper-col":{offset:2,span:22}},{default:a(()=>[e(v,{type:"primary","html-type":"submit"},{default:a(()=>[i("提交")]),_:1}),e(v,{style:{"margin-left":"10px"},onClick:N},{default:a(()=>[i("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),e(K,{total:t(r).total,currentPage:t(o).currentPage,pageSizes:t(o).pageSizes,onOnpagechange:$,onOnsizechange:U},null,8,["total","currentPage","pageSizes"]),t(r).data.length!==0?(p(),b("div",Pt,[(p(!0),b(y,null,O(t(r).data,(n,C)=>(p(),B(it,{key:C,item:{...n,bj:n.goods_big_logo,title:n.goods_name}},{type:a(()=>[m("p",Ct,[e(z,{color:"orange"},{icon:a(()=>[e(t(gt))]),default:a(()=>[i(" "+h(n.classname),1)]),_:2},1024)])]),price:a(()=>[m("p",It,[e(z,{color:"green"},{icon:a(()=>[e(t(wt))]),default:a(()=>[i(" "+h(n.goods_price),1)]),_:2},1024)])]),nums:a(()=>[m("p",Ot,[e(z,{color:"purple"},{icon:a(()=>[e(t(zt))]),default:a(()=>[i(" "+h(n.goods_number),1)]),_:2},1024)])]),button:a(()=>[e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:M=>H(n.downloadImgs)},{default:a(()=>[i("查看图片 ")]),_:2},1032,["onClick"]),e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:M=>L(n)},{default:a(()=>[i("查看网页 ")]),_:2},1032,["onClick"]),e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:M=>G(n)},{default:a(()=>[i("查看规格 ")]),_:2},1032,["onClick"])]),_:2},1032,["item"]))),128))])):ot("",!0),e(ct,{state:t(k)},null,8,["state"]),m("div",Bt,[e(K,{total:t(r).total,currentPage:t(o).currentPage,pageSizes:t(o).pageSizes,onOnpagechange:$,onOnsizechange:U},null,8,["total","currentPage","pageSizes"])]),e(st,{total:t(r).total,currentPage:t(o).currentPage,pageSizes:t(o).pageSizes,onOnpageturning:T},null,8,["total","currentPage","pageSizes"]),e(rt,{onOnTo:E}),e(P,{visible:t(c).state,"onUpdate:visible":s[2]||(s[2]=n=>t(c).state=n),footer:null,width:"80%",onCancel:R,title:t(c).title},{default:a(()=>[m("div",Dt,[(p(!0),b(y,null,O(t(c).imgs,(n,C)=>(p(),B(_t,{key:C,item:n},null,8,["item"]))),128))])]),_:1},8,["visible","title"]),e(P,{visible:t(_).state,"onUpdate:visible":s[3]||(s[3]=n=>t(_).state=n),footer:null,width:"55%",onCancel:j,title:t(_).title},{default:a(()=>[m("div",null,[e(Z,{html:t(_).html},null,8,["html"])])]),_:1},8,["visible","title"]),e(P,{visible:t(u).state,"onUpdate:visible":s[4]||(s[4]=n=>t(u).state=n),footer:null,width:"80%",onCancel:A,title:t(u).title},{default:a(()=>[m("div",null,[e(tt,{dataSource:t(u).skus,columns:t(W)},null,8,["dataSource","columns"])])]),_:1},8,["visible","title"])],64)}}};export{le as default};
